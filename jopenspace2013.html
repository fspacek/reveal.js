<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Co mě naučilo 5 let modulárního vývoje</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

        <div style="display: block; position: absolute; bottom: 40px; left: 50%; margin-left: -70px; z-index: 20;">
            <a href="http://www.fg.cz"><img src="img/jopenspace2013/FG_Forrest_neg.png" width="140px"/></a>
        </div>

		<div class="reveal">

			<div class="slides">
				<section data-background="img/backgrounds/black.jpg">
					<h1>Co mě naučilo 5 let modulárního vývoje</h1>
					<p>
						<small>Přednáší <a href="http://blog.novoj.net">Honza Novotný</a> z <a href="http://www.fg.cz">FG Forrest</a></small>
					</p>
				</section>
                <section data-background="#000000">
                    <h2>Modularita je dobrá, když ...</h2>
                    <div style="width: 48%; display: inline-block; vertical-align: top;">
                        <img src="img/jopenspace2013/good.png" width="60%" style="border: 0"/>
                        <ul style="height: 70%">
                            <li>stavíte platformu</li>
                            <li>vyvíjíte obří jedno-kontejnerovou aplikaci</li>
                            <li>chcete rozbít a postupně povyměňovat legacy kód</li>
                            <li>chcete dát příležitost dodavatelům 3tích stran</li>
                        </ul>
                    </div>
                    <div style="width: 48%; display: inline-block; vertical-align: top;">
                        <img src="img/jopenspace2013/bad.png" width="60%" style="border: 0"/>
                        <ul style="height: 70%; text-decoration: line-through">
                            <li>stavíte jednoúčelové aplikace</li>
                            <li>máte komponentovou architekturu vyššího řádu (SOA, ESB)</li>
                            <li>nemáte ambice tvořit znovupoužitelné portofolio kódu (NIH haters)</li>
                        </ul>
                    </div>
                </section>
                <section>
                    <section data-background="img/backgrounds/brown.jpg">
                        <h2>Začít se dá s málem</h2>
                        <div style="width: 48%; display: inline-block; vertical-align: top;">
                            <img src="img/jopenspace2013/ak47.png" width="90%"/>
                            <ul style="height: 70%">
                                <li>stavěli jsme na tom, co známe</li>
                                <li>neměli jsme žádné velké ambice</li>
                                <li>byli jsme si vědomi limitů</li>
                            </ul>
                            <h3 style="margin-top: 1em; color: green">customizace Spring Frameworku</h3>
                        </div>
                        <div style="width: 48%; display: inline-block;">
                            <img src="img/jopenspace2013/F2000.png" width="90%"/>
                            <ul style="height: 70%;">
                                <li>existují industriální standardy s letitou historií</li>
                                <li>řeší miliony věcí</li>
                                <li>jen jsou trochu komplikované</li>
                            </ul>
                            <h3 style="margin-top: 1em; color: red">OSGI</h3>
                        </div>
                    </section>
                    <section data-background="img/backgrounds/brown.jpg">
                        <h2>Životní cyklus modulu</h2>
                        <img src="img/jopenspace2013/module-lifecycle.png" style="background: none; border: none; box-shadow: none; float: left;"/>
                        <ol style="margin-top: 2.5em; line-height: 4em;">
                            <li>Načtení konfigurace, inicializace Spring kontextu</li>
                            <li>Kontrola dependencí, doplnění referencí v proxy objektech</li>
                            <li>Zničení Spring kontextu, uvolnění zdrojů</li>
                        </ol>
                    </section>
                    <section data-background="img/backgrounds/brown.jpg">
                        <h2>Publikace API</h2>
                        <img src="img/jopenspace2013/api_publication.png" style="background: rgba(255, 255, 255, 0.35);"/>
                    </section>
                    <section data-background="img/backgrounds/brown.jpg">
                        <h2>Propagace událostí</h2>
                        <img src="img/jopenspace2013/event_publication.png" height="500px" style="background: rgba(255, 255, 255, 0.35);"/>
                    </section>
                </section>
                <section data-background="#000000">
                    <h2>Celé je to jen o ...</h2>
                    <p>aplikaci pravidel objektového návrhu na vyšší úrovni.</p>
                    <img src="img/jopenspace2013/wordle.png" style="border: 0px;">
                    <ul style="display: none">
                        <li title="Single Responsibility Principle, Open-Closed Principle, Liskov Substitute Principle, Interface Segregation Principle, Dependency Inversion Principle">
                            <a href="http://www.zdrojak.cz/clanky/navrhove-principy-solid/">SOLID</a>
                        </li>
                        <li title="Don't Repeat Yourself"><a href="http://www.zdrojak.cz/clanky/navrhove-principy-dry/">DRY</a></li>
                        <li><a href="http://www.zdrojak.cz/clanky/grasp-2-high-cohesion/">High cohesion</a></li>
                        <li><a href="http://www.zdrojak.cz/clanky/grasp-3-low-coupling/">Low coupling</a></li>
                    </ul>
                </section>
                <section data-background="img/backgrounds/brown.jpg">
                    <h2>Nejdůležitější je</h2>
                    <img src="img/jopenspace2013/Bill-of-Rights-scroll.png" style="float: left; height: 280px; margin-top: 75px; background: none; border: none; box-shadow: none;"/>
                    <ol style="width: 70%">
                        <li>kvalitní izolace
                            <ul style="font-size: 0.8em; line-height: 1.2em">
                                <li>tak aby nešla jednoduše obejít</li>
                                <li>když to obejít půjde, tak to někdo udělá</li>
                            </ul>
                        </li>
                        <li class="fragment">standardizovaný způsob komunikace, a.k.a. publikace veřejného rozhraní
                            <ul style="font-size: 0.8em; line-height: 1.2em">
                                <li>předávání zpráv (<a href="http://cs.wikipedia.org/wiki/Observer">observer pattern</a>)</li>
                                <li>přímá volání přes veřejná rozhraní</li>
                                <li>explicitní deklarace konzumovaných rozhraní</li>
                            </ul>
                        </li>
                        <li class="fragment">určení odpovědnosti/velikosti modulů
                            <ul style="font-size: 0.8em; line-height: 1.2em">
                                <li>jasně definovaný účel</li>
                                <li>malé moduly jdou proti <em>low coupling</em></li>
                                <li>velké moduly jdou proti <em>high cohesion</em></li>
                            </ul>
                        </li>
                    </ol>
                    <p class="fragment" style="margin-top: 1em">... a možnost změny za běhu aplikace se šikne!</p>
                </section>
                <section>
                    <section data-background="img/backgrounds/black.jpg">
                        <img src="img/jopenspace2013/burger.png" style="position: absolute; left: -300px; top: 0px; border: 0px; margin: 0px; background-color: transparent; box-shadow: none"/>
                        <h2>Zapouzdřit modul ve všech ohledech</h2>
                        <p>... je pěkný oříšek a <a href="http://www.javacodegeeks.com/2011/09/real-modular-web-applications-why-there.html">zamotá vám hlavu</a>, stejně jako nám.</p>
                        <ul style="margin-top: 1em; font-size: 110%; line-height: 120%; width: 80%">
                            <li>evoluce datového modelu - verzování (ala&nbsp;<a href="http://www.liquibase.org/">Liquibase</a>)</li>
                            <!-- li>rozšiřování datového modelu bez obavy z narušení stávající logiky</li -->
                            <li>zapouzdření view do modulu (FreeMarker, <span style="text-decoration: line-through">JSP</span>)</li>
                            <li>dynamická registrace servletů a filtrů (<span style="text-decoration: line-through"><a
                                    href="http://stackoverflow.com/questions/4490648/adding-a-dynamic-servlet-using-servlet-3-0-throws-exception">Servlet 3.0</a></span>)</li>
                            <li>web frameworky s modularizací nepočítají</li>
                        </ul>
                        <p style="margin-top: 1em; font-size: 110%"><u>Ultimátní meta:</u> mít možnost nastartovat stejný modul vícekrát.</p>
                    </section>
                    <!-- section id="openclosed" data-background="img/jopenspace2013/minecraft.png">
                        <div  style="background-color: #000000; padding: 1em; box-shadow: 0 0 30px black, 0 0 30px black, 0 0 30px black;">
                            <h2>Náš přístup k rozšiřitelnosti</h2>
                            <p>stojí na několika základních kamenech</p>
                            <ul style="width: 60%">
                                <li>možnost konfigurovat aplikaci za běhu
                                    <ul style="font-size: 0.6em; line-height: 1.2em">
                                        <li>bez změny WARu, dokážeme kompletně překopat obsah a do značné míry i funkcionalitu aplikace</li>
                                        <li>dynamické skládání stromu Spring kontextů</li>
                                        <li>změny probíhají za plného provozu aplikace - původní kontexty řeší požadavky, zatímco nové startují</li>
                                    </ul>
                                </li>
                                <li>skriptování v Groovy</li>
                                    <ul style="font-size: 0.6em; line-height: 1.2em">
                                        <li>otevírá cestu k continuous delivery (byť jsme zatím daleko)</li>
                                        <li>bez testů je však skriptování a modifikace RIZIKOVÉ</li>
                                    </ul>
                                <li>vlastní persistence framework (WTF!)
                                    <ul style="font-size: 0.6em; line-height: 1.2em">
                                        <li>Spring JDBC template + Cglib proxies</li>
                                        <li>bezpečné rozšiřování datového modelu za běhu</li>
                                        <li>ukládání a dotazování dat v nových sloupcích a tabulkách</li>
                                    </ul>
                                </li>
                                <li>vlastní komponentový framework (WTF!)
                                    <ul style="font-size: 0.6em; line-height: 1.2em">
                                        <li>implementace na úrovni servletů + Freemarker</li>
                                        <li>modifikace struktury stránek (i AOP like)</li>
                                        <li>přidávání a odebírání stránek za běhu</li>
                                        <li>lokalizace a změny HTML šablon za běhu</li>
                                    </ul>
                                </li>
                            </ul>
                            <img src="img/jopenspace2013/lego.png" style="width: 27%; border: 0px; background-color: transparent;"/>
                        </div>
                    </section -->
                </section>
                <section>
                    <section data-background="img/jopenspace2013/thorns.jpg">
                        <h2>Cesta je trnitá</h2>
                        <ul class="dark" style="margin-top: 1em; font-size: 120%; line-height: 130%; width: 65%;">
                            <li>memory leaky</li>
                            <li>transitivní dependence</li>
                            <li>vzájemná a zpětná kompatibilita modulů</li>
                            <li><a href="#/openclosed">rozšiřitelnost je oříšek</a> především v souvislosti s automatizovaným testováním</li>
                            <li title="autowiring, aop">rychlost startu (<a href="#/runczech">problém námi zvolené technologie</a>)</li>
                        </ul>
                    </section>
                    <section id="runczech" data-background="img/jopenspace2013/runczech.jpg">
                        <div  style="background-color: #000000; padding: 1em; box-shadow: 0 0 30px black, 0 0 30px black, 0 0 30px black;">
                            <h2>Seznam použitých modulů na Runczech.com</h2>
                            <img src="img/jopenspace2013/runczech.png" style="width: 130%">
                            <p class="fragment">Kdo napočítal 21 má u mě pivo!<br/>Startup time 70s <img src="img/jopenspace2013/sad-smiley.png" width="40px" style="border: 0px; background-color: transparent; margin: 0px"/></p>
                        </div>
                    </section>
                </section>
                <section data-background="img/jopenspace2013/finish-line.jpg">
                    <h1>Stojí to za tu námahu</h1>
                    <img src="img/jopenspace2013/bright-future-ahead.png" style="float: right; height: 300px; margin-top: 75px; background: none; border: none; box-shadow: none;"/>
                    <ul class="dark" style="margin-top: 1em; font-size: 120%; line-height: 130%; width: 65%;">
                        <li>rozbití monolitu a snížení provázanosti</li>
                        <li>zpřístupnění programování základního produktu firmy více vývojářům</li>
                        <li>lepší (vertikální) dělba práce</li>
                        <li>princip přirozeného výběru</li>
                        <li>variabilita díky kompozici</li>
                        <li>možnosti zásahů do aplikace za běhu</li>
                    </ul>
                    <p class="fragment dark" style="margin-top: 1em; font-size: 120%; line-height: 130%;">Aktuálně máme v repository 35+ znovupoužitelných modulů a nepočitatelně jednoúčelových zákaznických modulů.</p>
                </section>
                <section data-background="img/backgrounds/black.jpg">
                    <h2>Vyzkoušet si to můžete i na vlastní kůži.</h2>
                    <h2><a href="http://www.edee-cms.cz/cs/partnerstvi">www.edee-cms.cz/cs/partnertstvi</a></h2>
                    <h3>Děkuji za pozornost</h3>

                    <p>
                        <small>Honza Novotný, FG Forrest</small>
                    </p>
                </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
        <script src="js/jquery.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
		</script>

	</body>
</html>
